<header class="header">
  <nav class="nav">
    <!-- Mobile Hamburger -->
    <div class="mobile-menu-toggle" (click)="toggleMobileMenu()">
      &#9776; <!-- Hamburger icon -->
    </div>

    <!-- Left options (desktop) -->
    <div class="nav-left desktop-menu">
      <div class="nav-item dropdown"
           *ngFor="let item of navItems"
           [class.active]="selectedNav === item.label"
           (click)="setActive(item.label)">
        <a class="main-link">{{ item.label }}</a>
        <div class="dropdown-content" *ngIf="item.dropdown">
          <div class="dropdown-column" *ngFor="let column of item.dropdown">
            <h4>{{ column.title }}</h4>
            <a *ngFor="let link of column.links"
               [routerLink]="link.routerLink"
               routerLinkActive="active-link">
               {{ link.label }}
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Center Logo -->
    <div class="nav-center">
      <a routerLink="/" class="brand">
        <img src="/logo-black-bw.png" alt="Brand Logo" />
      </a>
    </div>

    <!-- Right options -->
    <div class="nav-right">
      <!-- Search -->
      <div class="search-container" [class.active]="searchActive">
        <button class="search-btn" (click)="toggleSearch()">
          <span *ngIf="!searchActive">SEARCH</span>
        </button>

        <div class="search-box" *ngIf="searchActive">
          <input 
            type="text" 
            placeholder="ENTER KEYWORD" 
            class="header-search"
            [(ngModel)]="searchQuery"
            (keyup.enter)="onSearch()"
            (blur)="toggleSearch(false)"
          />
          <span class="arrow">→</span>
        </div>
      </div>

      <!-- Other Nav Links -->
      <a *ngFor="let r of rightNav" 
         [routerLink]="r.routerLink" 
         class="nav-item"
         routerLinkActive="active-link">
        {{ r.label }}
      </a>
    </div>
  </nav>

  <!-- Mobile Slide-Out Menu -->
  <div class="mobile-menu" [class.open]="mobileMenuOpen">
    <button class="close-btn" (click)="toggleMobileMenu()">✕</button>
    <div class="mobile-links">
      <div class="mobile-item" *ngFor="let item of navItems">
        <span>{{ item.label }}</span>
        <div class="mobile-dropdown" *ngIf="item.dropdown">
          <div *ngFor="let column of item.dropdown">
            <h4>{{ column.title }}</h4>
            <a *ngFor="let link of column.links"
               [routerLink]="link.routerLink"
               (click)="toggleMobileMenu()">
              {{ link.label }}
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>
